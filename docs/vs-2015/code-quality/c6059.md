---
title: C6059 | Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C6059
helpviewer_keywords:
- C6059
ms.assetid: 343a4cd1-048a-4edf-bb4b-187097bb6093
caps.latest.revision: 24
author: corob-msft
ms.author: corob
manager: jillfra
ms.openlocfilehash: 4a11ee5e2b16e985fd22e1f947292dce80c41038
ms.sourcegitcommit: 68f893f6e472df46f323db34a13a7034dccad25a
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 02/15/2020
ms.locfileid: "77277424"
---
# <a name="c6059"></a>C6059
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Warning C6059: chybný parametr length při volání funkce \<> funkce. Předejte počet zbývajících znaků, nikoli velikost vyrovnávací paměti \<proměnnou >  
  
 Toto upozornění signalizuje, že volání funkce zřetězení řetězce je pravděpodobně předány nesprávné hodnotě pro počet znaků, které mají být zřetězeny. Tato vada může způsobit zneužití nebo chybu přetečení vyrovnávací paměti. Běžnou příčinou této vady je předání vyrovnávací paměti místo zbývajícího počtu znaků ve vyrovnávací paměti na funkci manipulace s řetězci.  
  
## <a name="example"></a>Příklad  
 Následující kód vygeneruje toto upozornění:  
  
```  
#include <string.h>  
#define MAX 25  
  
void f( )  
{  
  char szTarget[MAX];  
  char *szState ="Washington";  
  char *szCity="Redmond, ";  
  
  strncpy(szTarget,szCity, MAX);  
  szTarget[MAX -1] = '\0';  
  strncat(szTarget, szState, MAX); //wrong size   
  // code ...                                   
}  
```  
  
 Chcete-li toto upozornění opravit, použijte správný počet znaků, které mají být zřetězeny, jak je znázorněno v následujícím kódu:  
  
```  
#include <string.h>  
#define MAX 25  
  
void f( )  
{  
  char szTarget[MAX];  
  char *szState ="Washington";  
  char *szCity="Redmond, ";  
  
  strncpy(szTarget,szCity, MAX);  
  szTarget[MAX -1] = '\0';  
  strncat(szTarget, szState, MAX - strlen(szTarget)); // correct size   
  // code ...                                   
}  
```  
  
 Chcete-li toto upozornění opravit pomocí funkce bezpečného zpracování řetězců, přečtěte si následující kód:  
  
```  
#include <string.h>  
  
void f( )  
{  
  char *szState ="Washington";  
  char *szCity="Redmond, ";  
  
  size_t nTargetSize = strlen(szState) + strlen(szCity) + 1;  
  char *szTarget= new char[nTargetSize];  
  
  strncpy_s(szTarget, nTargetSize, szCity,strlen(szCity));  
  strncat_s(szTarget, nTargetSize, szState,  
                    nTargetSize - strlen(szTarget));  
  // code ...  
  delete [] szTarget;  
}  
```  
  
## <a name="see-also"></a>Viz také  
 [strncpy_s, _strncpy_s_l, wcsncpy_s, _wcsncpy_s_l, _mbsncpy_s](https://msdn.microsoft.com/library/a971c800-94d1-4d88-92f3-a2fe236a4546) _mbsncpy_s_l   
 [strncat_s, _strncat_s_l, wcsncat_s, _wcsncat_s_l, _mbsncat_s, _mbsncat_s_l](https://msdn.microsoft.com/library/de77eca2-4d9c-4e66-abf2-a95fefc21e5a)
