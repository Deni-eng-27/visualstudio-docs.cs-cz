---
title: C26115 | Microsoft Docs
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-code-analysis
ms.topic: reference
f1_keywords:
- C26115
helpviewer_keywords:
- C26115
ms.assetid: 3977a2bb-d1fe-4510-89dd-07fdc69e911c
caps.latest.revision: 9
author: corob-msft
ms.author: corob
manager: jillfra
ms.openlocfilehash: c1512d18d676f188a17dc27db1ec47b544112c3b
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/02/2020
ms.locfileid: "77275448"
---
# <a name="c26115"></a>C26115
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

Upozornění C26115: Nepodařilo se uvolnit zámek \<lock> ve funkci \<func> .  
  
 V rámci tohoto jazyka není provedeno vynucování *dvojic s* syntakticky vymezenými zámky a zámky *verzí* v programech C/C++. Funkce může zavést vedlejší efekt uzamčení tím, že provede pozorovatelnou úpravu stavu souběžnosti. Například funkce uzamknout obálka zvyšuje počet pořizování zámků nebo počet zámků pro daný zámek.  
  
 Funkci, která má vedlejší účinek z zámku, můžete opatřit pomocí `_Acquires_lock_` nebo v `_Releases_lock_` uvedeném pořadí. Bez takovýchto poznámek se očekává, že funkce nemění počet zámků poté, co se vrátí. Pokud získání a vydání nejsou vyvážené, považují se za *osamocené*. Upozornění C26115 se vydá, když funkce zavádí osamocený zámek.  
  
## <a name="example"></a>Příklad  
 Následující příklad generuje upozornění C26115, protože existuje osamocený zámek ve funkci, která s poznámkami není `_Acquires_lock_` .  
  
```  
  
typedef struct _DATA   
{  
    CRITICAL_SECTION cs;  
} DATA;  
  
void FailToReleaseLock(int flag, DATA* p)   
{  
    EnterCriticalSection(&p->cs);   
  
    if (flag)  
        return; // Warning C26115  
  
    LeaveCriticalSection(&p->cs);  
}  
  
```
