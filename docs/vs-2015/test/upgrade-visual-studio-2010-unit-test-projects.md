---
title: Upgradovat projekty testů jednotek
ms.date: 11/15/2016
ms.prod: visual-studio-dev14
ms.technology: vs-ide-test
ms.topic: conceptual
ms.assetid: f1502b51-d6db-4894-9fbf-4a5723e4bb1a
caps.latest.revision: 8
ms.author: jillfra
manager: jillfra
ms.openlocfilehash: 097193ea29f5f21aed09ed5ffa9f0cb331327b84
ms.sourcegitcommit: 6cfffa72af599a9d667249caaaa411bb28ea69fd
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 09/02/2020
ms.locfileid: "72657266"
---
# <a name="upgrade-visual-studio-2010-unit-test-projects"></a>Upgrade projektů testování částí sady Visual Studio 2010
[!INCLUDE[vs2017banner](../includes/vs2017banner.md)]

[!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] zahrnuje kompatibilitu projektů testů s [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] testovacími projekty SP1. Například projekty testů, které jste vytvořili pomocí [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] nástroje SP1, lze otevřít pomocí [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] bez upgradu. Proto může váš tým používat nástroj [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] SP1 i [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] pro práci se stejným testovacím projektem. Další informace naleznete v tématu [upgrade testů ze sady Visual Studio 2010](https://msdn.microsoft.com/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52).

 [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] zavádí několik změn pro testování částí. Z důvodu těchto změn je důležité pochopit problémy s kompatibilitou mezi předchozími verzemi sady Visual Studio a [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] . Mezi změnami při testování částí je významná změna, která [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] obsahuje více než jednu šablonu testovacího projektu, včetně šablony projektu testování částí. Nové testy jednotek jsou přidány do nové šablony projektu testování částí. Testy jednotek lze také zahrnout do jiné šablony nového testovacího projektu, který se nazývá šablona projektu programový test uživatelského rozhraní. Další informace o nových šablonách projektů testů naleznete v tématu [upgrade testů z dřívějších verzí sady Visual Studio](https://msdn.microsoft.com/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52). Nové projekty testování částí již ve výchozím nastavení nezahrnují soubor s nastavením testu. Vyloučením souboru nastavení testu se zlepší výkon testování částí. Z důvodu kompatibility můžete stále používat vaše existující projekty testů, které jste vytvořili pomocí sady Visual Studio 2010. Nicméně doporučujeme odebrat soubor nastavení testu přidružený k testovacímu projektu z důvodů výkonu, pokud nemáte konkrétní potřebu pro soubor nastavení testu. Můžete například zvolit, aby soubor nastavení testu zůstal, pokud testy jednotek běží v distribuovaném prostředí nebo potřebujete shromažďovat konkrétní diagnostická data. Máte-li podobnou potřebu pomocí šablony projektu pro nové testy jednotek nebo šablony projektu programový test uživatelského rozhraní, můžete také ručně přidat soubor nastavení testu.

> [!NOTE]
> Existující testy jednotek v [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] projektech testů v nástroji SP1 budou bez problémů fungovat mezi [!INCLUDE[vs_dev10_long](../includes/vs-dev10-long-md.md)] SP1 a [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] . V souborech projektu testů nejsou provedeny žádné změny, pokud je projekt sady Visual Studio 2010 s testováním jednotek otevřen v [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] nebo naopak.

> [!CAUTION]
> Visual Studio 2010 nemůže otevřít projekt C++/CLI, který cílí na sadu nástrojů 11,0 – to znamená, že projekt vytvořený v sadě Visual Studio 2012. Toto omezení platí pro všechny projekty C++/CLI, nikoli jenom projekty testování částí C++/CLI.

> [!NOTE]
> Nové testy jednotek můžete spustit pomocí vstest.console.exe z příkazového řádku. Další informace o použití vstest.console.exe naleznete v tématu [VSTest.Console.exe možnosti příkazového řádku](https://msdn.microsoft.com/library/52e1689d-b1a8-4589-bd98-99a55acd0a11)nebo příkaz spusťte pomocí přepínače help: **vstest.console.exe/?**. Existující testy jednotek můžete i nadále spouštět pomocí MStest.exe. Další informace najdete v tématu [spuštění automatizovaných testů z příkazového řádku pomocí](https://msdn.microsoft.com/library/39b61ad0-0055-44b5-963f-25d8a6b51581) [ možností příkazového řádku](https://msdn.microsoft.com/library/8813ba7f-e790-4e92-9f91-7080508a1c36)MSTest aMSTest.exe.

 Další významnou změnou je nový Průzkumník testů. V [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] systému jsou některé z testovacích oken, které můžete znát z předchozí verze sady Visual Studio, zastaralé, například prohlížeč testů okno. Průzkumník testů je navržený k lepší podpoře vývojářů a týmů, které zahrnují testování částí v rámci svých postupů vývoje softwaru. Další informace naleznete v tématu [spuštění testů jednotek pomocí Průzkumníka testů](../test/run-unit-tests-with-test-explorer.md).

## <a name="compatibility-issues-between-visual-studio-2010-sp1-and-visual-studio-2012"></a>Problémy s kompatibilitou mezi Visual Studio 2010 SP1 a Visual Studio 2012
 Zde jsou některé problémy, které je potřeba znát při migraci testů jednotek mezi Visual Studio 2010 SP1 a [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] :

|Funkce testování částí|Problém|Řešení|
|-----------------------------|-----------|--------------|
|Seznamy testů (soubory. vsmdi) jsou zastaralé v [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] .|Už nebudete moct vytvářet nové seznamy testů (soubory. vsmdi) ani spouštět seznamy testů ze sady Visual Studio. **Tip:**  Kategorie testů poskytují větší flexibilitu než funkce test vypíše funkce ze starších verzí Microsoft Visual Studio. Můžete použít logické operátory s kategoriemi testů pro spuštění testů z více kategorií společně nebo pro omezení testů, které jsou spuštěny na testy, které patří do více kategorií. Kategorie testů lze také snadno přidat při vytváření testovacích metod a není nutné udržovat seznamy testů poté, co jste vytvořili testovací metody. Pomocí kategorií testů není nutné vracet se změnami a rezervovat soubor ** \<solution name> . vsmdi** , který udržuje seznamy testů. Další informace najdete v tématu [definování kategorií testů pro seskupení testů](https://msdn.microsoft.com/library/2c26a648-f068-4d60-99b6-b9747b7bdbc9).|– Chcete-li zachovat kompatibilitu se stávajícími testovacími projekty, které používají seznamy testů, je stále možné upravovat soubory. vsmdi pomocí sady Visual Studio.<br />– I když nemůžete spustit migrované seznamy testů ze sady Visual Studio, můžete je stále spouštět pomocí mstest.exe z příkazového řádku. Další informace najdete v tématu [spuštění automatizovaných testů z příkazového řádku pomocí MSTest](https://msdn.microsoft.com/library/39b61ad0-0055-44b5-963f-25d8a6b51581) .<br />– Pokud jste použili seznam testů v definici sestavení, můžete ho nadále používat. Další informace naleznete v tématu [How to: Configure and run naplánovaných testů po sestavení aplikace](https://msdn.microsoft.com/32acfeb1-b1aa-4afb-8cfe-cc209e6183fd) a [spuštění testů v procesu sestavení](https://msdn.microsoft.com/library/d05743a1-c5cf-447e-bed9-bed3cb595e38).|
|Privátní přistupující objekty se v nepoužívá [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] .<br /><br /> V předchozích verzích sady Visual Studio můžete použít Publicize k určení interních aplikačních rozhraní API a vytvořit veřejné rozhraní API, které můžete volat v testech, což by zase volalo do interních rozhraní API vašeho produktu. Pak můžete použít generování kódu k vytvoření testovacích zástupných procedur a vygenerovat fragment kódu v rámci této zástupné procedury.|Už nebudete moct vytvářet privátní přistupující objekty.|<ul><li>Projekty testů sady Visual Studio 2010 se budou kompilovat a pracovat v [!INCLUDE[vs_dev11_long](../includes/vs-dev11-long-md.md)] . Sestavení bude obsahovat upozornění na výstup.</li><li>Pokud stále potřebujete testovat interní rozhraní API, máte tyto možnosti:<br /><br /> <ul><li>Použijte <xref:Microsoft.VisualStudio.TestTools.UnitTesting.PrivateObject> třídu, která vám pomůže při přístupu k interním a privátním rozhraním API ve vašem kódu. Ta se nachází v sestavení Microsoft.VisualStudio.QualityTools.UnitTestFramework.dll.</li><li>Vytvořte systém reflexe, který by byl schopný odrážet váš kód pro přístup k interním nebo soukromým rozhraním API.</li><li>Pokud je kód, ke kterému se pokoušíte získat přístup, interní, možná budete mít přístup k rozhraním API pomocí <xref:System.Runtime.CompilerServices.InternalsVisibleToAttribute> , takže váš testovací kód může mít přístup k interním rozhraním API.</li></ul></li></ul>|
|Dopad testu se odebral.|||
|Sdílení výsledků spouštění prostřednictvím protokolů TRX z Průzkumníka testů.||I nadále můžete získat protokoly TRX z příkazového řádku i ze sestavení týmu.|

## <a name="see-also"></a>Viz také
 [Přenos, migrace a upgrade testování částí projektů sady Visual Studio](../porting/porting-migrating-and-upgrading-visual-studio-projects.md) [váš kód](../test/unit-test-your-code.md) [upgrade testů z dřívějších verzí sady Visual Studio](https://msdn.microsoft.com/e9c8b7f6-bd72-448e-8edb-d090dcc5cf52) [upgrade programových testů UI ze sady Visual Studio 2010](../test/upgrading-coded-ui-tests-from-visual-studio-2010.md)