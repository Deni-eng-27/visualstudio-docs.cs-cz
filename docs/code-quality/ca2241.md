---
title: 'CA2241: Zadejte správné argumenty pro metody formátování'
ms.date: 05/28/2020
ms.topic: reference
f1_keywords:
- CA2241
- Provide correct arguments to formatting methods
- ProvideCorrectArgumentsToFormattingMethods
helpviewer_keywords:
- ProvideCorrectArgumentsToFormattingMethods
- CA2241
ms.assetid: 83639bc4-4c91-4a07-a40e-dc5e49a84494
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: 3f0ee4c1b983918a76d6fa492ace8204e70b7e3d
ms.sourcegitcommit: 1d4f6cc80ea343a667d16beec03220cfe1f43b8e
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 06/23/2020
ms.locfileid: "85283421"
---
# <a name="ca2241-provide-correct-arguments-to-formatting-methods"></a>CA2241: Zadejte správné argumenty pro metody formátování

|||
|-|-|
|CheckId|CA2241|
|Kategorie|Microsoft. Usage|
|Zásadní změna|Nenarušující|

## <a name="cause"></a>Příčina
`format`Řetězcový argument předaný metodě jako <xref:System.Console.WriteLine%2A> , <xref:System.Console.Write%2A> nebo neobsahuje <xref:System.String.Format%2A?displayProperty=fullName> položku formátu, která odpovídá jednotlivým argumentům objektu, nebo naopak.

Ve výchozím nastavení toto pravidlo analyzuje pouze volání tří výše zmíněných metod, ale to je [konfigurovatelné](#configurability). 

## <a name="rule-description"></a>Popis pravidla
Argumenty metody jako <xref:System.Console.WriteLine%2A> , <xref:System.Console.Write%2A> a se <xref:System.String.Format%2A> skládají z formátovacího řetězce následovaného několika <xref:System.Object?displayProperty=fullName> instancemi. Formátovací řetězec se skládá z položek textu a vloženého formátu ve formuláři, {index [, Alignment] [: formatString]}. ' index ' je celé číslo založené na nule, které určuje, které objekty mají být naformátované. Pokud objekt nemá odpovídající index ve formátovacím řetězci, objekt se ignoruje. Pokud objekt určený pomocí ' index ' neexistuje, <xref:System.FormatException?displayProperty=fullName> je vyvolána v době běhu.

## <a name="how-to-fix-violations"></a>Jak opravit porušení
Chcete-li opravit porušení tohoto pravidla, zadejte položku formátu pro každý argument objektu a zadejte argument objektu pro každou položku formátu.

## <a name="when-to-suppress-warnings"></a>Kdy potlačit upozornění
Nepotlačujte upozornění na toto pravidlo.

## <a name="configurability"></a>Konfigurovatelnost

Pokud toto pravidlo spouštíte z [analyzátorů FxCop](install-fxcop-analyzers.md) (a ne pomocí starší verze analýzy), je toto pravidlo konfigurovatelné.

### <a name="additional-string-formatting-methods"></a>Další metody formátování řetězců

Můžete nakonfigurovat názvy dalších metod formátování řetězců, které by toto pravidlo mělo analyzovat. Chcete-li například zadat všechny metody pojmenované `MyFormat` jako metody formátování řetězce, můžete do souboru. editorconfig v projektu přidat následující dvojici klíč-hodnota:

```ini
dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat
```

Povolené formáty názvu metody v hodnotě možnosti (oddělené |):
  - Pouze název metody (včetně všech metod s názvem, bez ohledu na obsahující typ nebo obor názvů)
  - Plně kvalifikované názvy ve [formátu ID dokumentace k](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)symbolu s volitelnou `M:` předponou.

Příklady:

| Hodnota možnosti | Souhrn |
| --- | --- |
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat` | Odpovídá všem metodám s názvem ' MyFormat ' v kompilaci
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = MyFormat1|MyFormat2` | Odpovídá všem metodám s názvem ' MyFormat1 ' nebo ' MyFormat2 ' v kompilaci
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS.MyType.MyFormat(ParamType)` | Odpovídá konkrétní metodě ' MyFormat ' s daným plně kvalifikovaným podpisem
|`dotnet_code_quality.CA2241.additional_string_formatting_methods = NS1.MyType1.MyFormat1(ParamType)|NS2.MyType2.MyFormat2(ParamType)` | Odpovídá specifickým metodám ' MyFormat1 ' a ' MyFormat2 ' s odpovídajícím plně kvalifikovaným podpisem

Tuto možnost můžete nakonfigurovat jenom pro toto pravidlo, pro všechna pravidla nebo pro všechna pravidla v této kategorii (použití). Další informace najdete v tématu [Konfigurace analyzátorů FxCop](configure-fxcop-analyzers.md).

Alternativně můžete namísto určení explicitního seznamu dalších metod formátování řetězců nakonfigurovat analyzátor tak, aby se automaticky pokusil určit metodu formátování řetězce. Ve výchozím nastavení je tato možnost zakázána. Pokud je možnost povolena, jakákoli metoda, která má `string format` parametr následovaný `params object[]` parametrem, je považována za metodu formátování řetězce:

```ini
dotnet_code_quality.CA2241.try_determine_additional_string_formatting_methods_automatically = true
```

## <a name="example"></a>Příklad
Následující příklad ukazuje dvě porušení pravidla.

[!code-vb[FxCop.Usage.FormattingArguments#1](../code-quality/codesnippet/VisualBasic/ca2241-provide-correct-arguments-to-formatting-methods_1.vb)]
[!code-csharp[FxCop.Usage.FormattingArguments#1](../code-quality/codesnippet/CSharp/ca2241-provide-correct-arguments-to-formatting-methods_1.cs)]
