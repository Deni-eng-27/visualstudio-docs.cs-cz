---
title: 'CA1303: Nepředávejte literály jako lokalizované parametry'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- Do not pass literals as localized parameters
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
helpviewer_keywords:
- DoNotPassLiteralsAsLocalizedParameters
- CA1303
ms.assetid: 904d284e-76d0-4b8f-a4df-0094de8d7aac
author: mikejo5000
ms.author: mikejo
manager: jillfra
dev_langs:
- CPP
- CSharp
- VB
ms.workload:
- multiple
ms.openlocfilehash: d5b89a038dca5b8a0c19a61ab6c7597896314095
ms.sourcegitcommit: d20ce855461c240ac5eee0fcfe373f166b4a04a9
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 05/29/2020
ms.locfileid: "84182193"
---
# <a name="ca1303-do-not-pass-literals-as-localized-parameters"></a>CA1303: Nepředávejte literály jako lokalizované parametry

|||
|-|-|
|CheckId|CA1303|
|Kategorie|Microsoft. Globalization|
|Zásadní změna|Nenarušující|

## <a name="cause"></a>Příčina

Metoda předává řetězcový literál jako parametr konstruktoru nebo metodě .NET a tento řetězec by měl být Lokalizovatelný.

Toto upozornění je vyvoláno, když je řetězcový literál předán jako hodnota parametru nebo vlastnosti a jeden nebo více z následujících případů je pravda:

- <xref:System.ComponentModel.LocalizableAttribute>Atribut parametru nebo vlastnosti je nastaven na hodnotu true.

- Název řetězcového parametru, který je předán metodě Console. Write nebo Console. WriteLine, je buď hodnota, nebo formát.

Ve výchozím nastavení toto pravidlo analyzuje celý základ kódu, ale je možné ho [nakonfigurovat](#excluded-type-names-with-derived-types).

Počínaje verzí balíčku analyzátoru verze 3.0.0 se heuristické pojmenování už ve výchozím nastavení nepoužívá, ale to se [dá nakonfigurovat](#use-naming-heuristic).

## <a name="rule-description"></a>Popis pravidla

Řetězcové literály, které jsou vloženy ve zdrojovém kódu, je obtížné lokalizovat.

## <a name="how-to-fix-violations"></a>Jak opravit porušení

Chcete-li opravit porušení tohoto pravidla, nahraďte řetězcový literál řetězcem načteným prostřednictvím instance <xref:System.Resources.ResourceManager> třídy.

## <a name="when-to-suppress-warnings"></a>Kdy potlačit upozornění

Je bezpečné potlačit upozornění z tohoto pravidla, pokud knihovna kódu nebude lokalizována nebo pokud řetězec není vystaven koncovému uživateli nebo vývojáři pomocí knihovny kódu.

Uživatelé mohou odstranit šum proti metodám, které by neměly být předány lokalizované řetězce buď přejmenováním parametru nebo vlastnosti, nebo označením těchto položek jako podmíněné.

## <a name="configurability"></a>Konfigurovatelnost

Pokud toto pravidlo spouštíte z [analyzátorů FxCop](install-fxcop-analyzers.md) (a ne pomocí starší verze analýzy), je toto pravidlo konfigurovatelné.

### <a name="excluded-type-names-with-derived-types"></a>Názvy vyloučených typů s odvozenými typy

Můžete nakonfigurovat, které typy, včetně odvozených typů, které mají být vyloučeny z analýzy. Například chcete-li určit, že pravidlo by nemělo běžet na žádné metody v rámci typů s názvem `MyType` a jeho odvozenými typy, přidejte do souboru. editorconfig v projektu následující dvojici klíč-hodnota:

```ini
dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType
```

Povolené formáty názvů symbolů v hodnotě možnosti (oddělené |):

- Pouze název typu (včetně všech typů s názvem, bez ohledu na obsahující typ nebo obor názvů)
- Plně kvalifikované názvy ve [formátu ID dokumentace k](https://github.com/dotnet/csharplang/blob/master/spec/documentation-comments.md#id-string-format)symbolu s volitelnou `T:` předponou.

Příklady:

| Hodnota možnosti | Souhrn |
| --- | --- |
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType` | Odpovídá všem typům s názvem ' MyType ' a všem jeho odvozeným typům v kompilaci
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = MyType1|MyType2` | Odpovídá všem typům s názvem ' MyType1 ' nebo ' MyType2 ' a všem jejich odvozeným typům v kompilaci
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = M:NS.MyType` | Odpovídá specifickému typu ' MyType ' s daným plně kvalifikovaným názvem a všemi jeho odvozenými typy
|`dotnet_code_quality.CA1303.excluded_type_names_with_derived_types = M:NS1.MyType1|M:NS2.MyType2` | Odpovídá specifickým typům ' MyType1 ' a ' MyType2 ' s příslušnými plně kvalifikovanými názvy a všemi jejich odvozenými typy

Tuto možnost můžete nakonfigurovat pouze pro toto pravidlo, pro všechna pravidla nebo pro všechna pravidla v této kategorii (globalizace). Další informace najdete v tématu [Konfigurace analyzátorů FxCop](configure-fxcop-analyzers.md).

### <a name="use-naming-heuristic"></a>Použít heuristické pojmenování

Toto pravidlo můžete aktivovat tak, že nakonfigurujete, jestli parametry nebo vlastnosti název obsahující "text", "zpráva" nebo "titulek" budou aktivovat.

```ini
dotnet_code_quality.CA1303.use_naming_heuristic = true
```

## <a name="example"></a>Příklad

Následující příklad ukazuje metodu, která vyvolá výjimku, pokud některý z jejích dvou argumentů je mimo rozsah. Pro první argument je konstruktoru výjimky předán literální řetězec, který porušuje toto pravidlo. Pro druhý argument je konstruktor správně předán pomocí řetězce načteného prostřednictvím <xref:System.Resources.ResourceManager> .

[!code-cpp[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/CPP/ca1303-do-not-pass-literals-as-localized-parameters_1.cpp)]
[!code-vb[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/VisualBasic/ca1303-do-not-pass-literals-as-localized-parameters_1.vb)]
[!code-csharp[FxCop.Globalization.DoNotPassLiterals#1](../code-quality/codesnippet/CSharp/ca1303-do-not-pass-literals-as-localized-parameters_1.cs)]

## <a name="see-also"></a>Viz také

- [Prostředky v desktopových aplikacích](/dotnet/framework/resources/index)
- [Požadavek komunity na změnu chování](https://github.com/dotnet/roslyn-analyzers/issues/2933)
