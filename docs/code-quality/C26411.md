---
title: C26411
ms.date: 11/15/2017
ms.prod: visual-studio-dev15
ms.topic: conceptual
f1_keywords:
- C26411
helpviewer_keywords:
- C26411
ms.assetid: 5134e51e-8b92-4ee7-94c3-022e318a0e24
author: mikeblome
ms.author: mblome
manager: douge
ms.workload:
- multiple
ms.openlocfilehash: c2ba51b62f0b37e53d9707bc89c93b3020c01a2f
ms.sourcegitcommit: 37fb7075b0a65d2add3b137a5230767aa3266c74
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 01/02/2019
ms.locfileid: "53876231"
---
# <a name="c26411--noreftouniqueptr"></a>C26411 NO_REF_TO_UNIQUE_PTR
Předávání odkazem jedinečný ukazatel se předpokládá, že jeho prostředků mohou být všeobecně dostupné nebo přenesená uvnitř cílová funkce. Pokud funkce používá její parametr pouze pro přístup k prostředku, je bezpečné předat obyčejný ukazatel nebo odkaz.

## <a name="remarks"></a>Poznámky
- Omezení z upozornění C26410 platí zde také.
- Heuristiku k detekci, "release" nebo "obnovit" přístup na jedinečný ukazatel je spíše naivní: zjistíme volání operátory přiřazení a funkce s názvem "obnovit" (velká a malá písmena). Samozřejmě to nezahrnuje všechny možné případy úpravy inteligentní ukazatel (např. std::swap nebo speciální funkce nekonstantní vlastní inteligentním ukazatelem). Očekává se, že toto upozornění se vytvářejí mnoho falešných poplachů na vlastní typy, stejně jako v některých scénářích práce s ukazateli standardní jedinečný. Heuristiky bude lepší, protože jsme implementovat další kontroly, zaměřuje na inteligentní ukazatele.
- Inteligentní ukazatele jsou často šablony. To přináší zajímavé omezení týkající se skutečnosti, že kompilátor není povinna zpracovat šablonu kód v šablonách, pokud se nepoužívá. V některých minimální kódech, které mají velmi omezené použití inteligentní ukazatel rozhraní, nástroj pro kontrolu může vést k neočekávaným výsledkům z důvodu jeho neschopnost správně identifikovat sémantiky typu šablony (protože nesmí být nikdy použity některé důležité funkce). Pro standardní `unique_pointer` toto omezení, pokud zmírnit tím, že rozpoznává název typu. To může být rozšířena v budoucnosti k pokrytí dobře známé inteligentní ukazatele.
- Výrazy lambda s implicitní zachycení podle odkazu může vést k překvapivé upozornění na odkazy na ukazatele jedinečný. Aktuálně jsou všechny parametry zachycenou referenční ve výrazech lambda hlášeny bez ohledu na to, zda dojde k jejich vynulování nebo ne. Tady heuristiky musí být rozšířené na pole lambda je možné korelovat s parametry lambda. To vyřešíme v další vydané verze (po Visual Studio 2017 verze 15.3)

## <a name="example-1-unnecessary-reference"></a>Příklad 1: Zbytečné odkaz
```cpp
void TraceValid(std::unique_ptr<Slot> &slot)    // C26411
{
    if (!IsDamaged(slot.get()))
        std::cout << *slot.get();
}

void ReleaseValid(std::unique_ptr<Slot> &slot)  // OK
{
    if (!IsDamaged(slot.get()))
        slot.reset(nullptr);
}
```