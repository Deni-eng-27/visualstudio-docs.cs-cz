---
title: C6248
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- C6248
helpviewer_keywords:
- C6248
ms.assetid: 75743622-7a79-4fe8-81b9-dbdfa1a12f3d
author: mikeblome
ms.author: mblome
manager: markl
ms.workload:
- multiple
ms.openlocfilehash: b80cbd9fccc62681894def5e9c15ee9f0b278496
ms.sourcegitcommit: 174c992ecdc868ecbf7d3cee654bbc2855aeb67d
ms.translationtype: MT
ms.contentlocale: cs-CZ
ms.lasthandoff: 12/06/2019
ms.locfileid: "74878590"
---
# <a name="c6248"></a>C6248
Upozornění C6248: nastavení seznamu DACL pro SECURITY_DESCRIPTOR na hodnotu NULL způsobí nechráněný objekt.

 Toto upozornění identifikuje volání, které nastaví pole DACL struktury SECURITY_DESCRIPTOR na hodnotu null. Pokud je DACL, který patří do popisovače zabezpečení objektu, nastaven na hodnotu NULL, je vytvořen DACL hodnoty null. DACL hodnoty null uděluje plný přístup libovolnému uživateli, který o to požádá; není prováděna běžná bezpečnostní kontrola ve vztahu k objektu. DACL hodnoty null by neměl být zaměňován s prázdným DACL. Prázdný DACL je řádně přidělený a inicializovaný DACL, který neobsahuje žádné ACE. Prázdný DACL neuděluje přístup k objektu, ke kterému je přiřazen.

 Objekty, které mají DACL hodnoty null, mohou mít své popisovače zabezpečení změněny uživateli se zlými úmysly, takže nikdo nemá přístup k objektu.

 I tehdy, kdy přístup k objektu potřebuje každý, by měl být objekt zabezpečen tak, aby pouze správci mohli změnit jeho zabezpečení. Pokud přístup k objektu potřebuje pouze tvůrce, neměl by být DACL na objektu nastaven; systém zvolí vhodné výchozí nastavení.

## <a name="example"></a>Příklad
 Následující kód vygeneruje toto upozornění, protože DACL s hodnotou null je předán funkci `SetSecurityDescriptorDacl`:

```cpp
#include <windows.h>

void f( PSECURITY_DESCRIPTOR pSecurityDescriptor )
{
  if (SetSecurityDescriptorDacl(pSecurityDescriptor,
                                TRUE,     // Dacl Present
                                NULL,     // NULL pointer to DACL
                                FALSE))   // Defaulted
    {
      // Dacl is now applied to an object
    }
}
```

 Úplný příklad vytvoření popisovače zabezpečení naleznete v tématu [Vytvoření popisovače zabezpečení pro nový objekt v C++ ](/windows/desktop/SecAuthZ/creating-a-security-descriptor-for-a-new-object-in-c--). Další informace najdete v tématu [Vytvoření seznamu DACL](/windows/desktop/SecBP/creating-a-dacl).
